import React from 'react';
import { motion } from 'framer-motion';
import { 
  User, 
  Users, 
  Brain, 
  Heart, 
  Shield, 
  Target,
  BarChart3,
  TrendingUp,
  AlertTriangle,
  CheckCircle
} from 'lucide-react';
import Tooltip from '../ui/Tooltip';

interface EnhancedIndicatorsSummaryProps {
  indicators: string[];
  personalMaturity: number;
  relationshipMaturity: number;
  detectedZone: string;
}

interface CategoryAnalysis {
  icon: React.ReactNode;
  color: string;
  bgColor: string;
  interpretation: string;
  recommendations: string[];
  insights: string[];
}

// –°–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
const indicatorTranslations: Record<string, string> = {
  // –¢—Ä–∞–≤–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Ç–µ–Ω–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã
  'childhood_trauma_activation': '–∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–µ—Ç—Å–∫–æ–π —Ç—Ä–∞–≤–º—ã',
  'terror_familiar': '–∑–Ω–∞–∫–æ–º—ã–π —É–∂–∞—Å',
  'survival_fear': '—Å—Ç—Ä–∞—Ö –≤—ã–∂–∏–≤–∞–Ω–∏—è',
  'abandonment_fear': '—Å—Ç—Ä–∞—Ö –ø–æ–∫–∏–Ω—É—Ç–æ—Å—Ç–∏',
  'boundary_violation': '–Ω–∞—Ä—É—à–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü',
  'dramatic_love': '–¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª—é–±–æ–≤—å',
  'possessive_control': '—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å',
  'codependent': '—Å–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
  'destructive': '–¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
  'trauma_activation': '–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–∞–≤–º—ã',
  'terror_response': '—Ç–µ—Ä—Ä–æ—Ä-—Ä–µ–∞–∫—Ü–∏—è',
  'survival_mode': '—Ä–µ–∂–∏–º –≤—ã–∂–∏–≤–∞–Ω–∏—è',
  'disorganized_fearful': '–¥–µ–∑–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å—Ç—Ä–∞—Ö',
  'abandonment_terror': '—Ç–µ—Ä—Ä–æ—Ä –ø–æ–∫–∏–Ω—É—Ç–æ—Å—Ç–∏',
  'boundary_collapse': '—Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü',
  'dramatic_scenes': '–¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω—ã',
  'abandonment_avoidance': '–∏–∑–±–µ–≥–∞–Ω–∏–µ –ø–æ–∫–∏–Ω—É—Ç–æ—Å—Ç–∏',

  // –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  'people_pleasing': '—É–≥–æ–∂–¥–µ–Ω–∏–µ –ª—é–¥—è–º',
  'conflict_avoidance': '–∏–∑–±–µ–≥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤',
  'harmony_priority': '–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≥–∞—Ä–º–æ–Ω–∏–∏',
  'comfortable_routine': '–∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ä—É—Ç–∏–Ω–∞',
  'social_expectations': '—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è',
  'external_validation': '–≤–Ω–µ—à–Ω—è—è –≤–∞–ª–∏–¥–∞—Ü–∏—è',
  'emotional_fusion': '—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ',
  'practical_love': '–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ª—é–±–æ–≤—å',
  'weak_boundaries': '—Å–ª–∞–±—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã',
  'insecure_reactive': '–Ω–µ—É–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏',
  'comfort_stability': '–∫–æ–º—Ñ–æ—Ä—Ç –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å',
  'social_acceptance': '—Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ',
  'healthy_processing': '–∑–¥–æ—Ä–æ–≤–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞',
  'anxious_seeking_reassurance': '—Ç—Ä–µ–≤–æ–∂–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è',

  // –ó—Ä–µ–ª—ã–µ –∏ —Ä–∞–∑–≤–∏–≤–∞—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  'authentic_expression': '–∞—É—Ç–µ–Ω—Ç–∏—á–Ω–æ–µ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ',
  'emotional_honesty': '—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á–µ—Å—Ç–Ω–æ—Å—Ç—å',
  'healthy_boundaries': '–∑–¥–æ—Ä–æ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã',
  'conflict_growth': '—Ä–æ—Å—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç',
  'mutual_support': '–≤–∑–∞–∏–º–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
  'individual_interests': '–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã',
  'conscious_choice': '–æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä',
  'growth_motivation': '–º–æ—Ç–∏–≤–∞—Ü–∏—è —Ä–æ—Å—Ç–∞',
  'growth_through_conflict': '—Ä–æ—Å—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç',
  'secure_trusting': '–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–æ–≤–µ—Ä–∏–µ',
  'assertive_communication': '–∞—Å—Å–µ—Ä—Ç–∏–≤–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è',
  'healthy_protective': '–∑–¥–æ—Ä–æ–≤–∞—è –∑–∞—â–∏—Ç–∞',
  'open_communication': '–æ—Ç–∫—Ä—ã—Ç–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è',
  'growth_development': '—Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —Ä–æ—Å—Ç',
  'authentic_connection': '–∞—É—Ç–µ–Ω—Ç–∏—á–Ω–∞—è —Å–≤—è–∑—å',

  // –¢—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  'transcendent_service': '—Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω–æ–µ —Å–ª—É–∂–µ–Ω–∏–µ',
  'creative_collaboration': '—Ç–≤–æ—Ä—á–µ—Å–∫–æ–µ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ',
  'mutual_evolution': '–≤–∑–∞–∏–º–Ω–∞—è —ç–≤–æ–ª—é—Ü–∏—è',
  'world_contribution': '–≤–∫–ª–∞–¥ –≤ –º–∏—Ä',
  'spiritual_partnership': '–¥—É—Ö–æ–≤–Ω–æ–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ',
  'wisdom_sharing': '–æ–±–º–µ–Ω –º—É–¥—Ä–æ—Å—Ç—å—é',
  'unconditional_love': '–±–µ–∑—É—Å–ª–æ–≤–Ω–∞—è –ª—é–±–æ–≤—å',
  'unity_consciousness': '—Å–æ–∑–Ω–∞–Ω–∏–µ –µ–¥–∏–Ω—Å—Ç–≤–∞',
  'wisdom_integration': '–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º—É–¥—Ä–æ—Å—Ç–∏',
  'transformed_pain': '—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–æ–ª—å',
  'transcendent_unity': '—Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω–æ–µ –µ–¥–∏–Ω—Å—Ç–≤–æ',
  'fluid_boundaries': '–≥–∏–±–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã',
  'conscious_merging': '–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ',
  'wise_detachment': '–º—É–¥—Ä–∞—è –æ—Ç—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ—Å—Ç—å',
  'celebrating_growth': '–ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ —Ä–æ—Å—Ç–∞',
  'world_healing': '–∏—Å—Ü–µ–ª–µ–Ω–∏–µ –º–∏—Ä–∞',

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  'emotional_regulation': '—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–≥—É–ª—è—Ü–∏—è',
  'self_awareness': '—Å–∞–º–æ—Å–æ–∑–Ω–∞–Ω–∏–µ',
  'inner_wisdom': '–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –º—É–¥—Ä–æ—Å—Ç—å',
  'compassionate_understanding': '—Å–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ',
  'mature_love': '–∑—Ä–µ–ª–∞—è –ª—é–±–æ–≤—å',
  'balanced_autonomy': '—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–≤—Ç–æ–Ω–æ–º–∏—è',
  'healthy_interdependence': '–∑–¥–æ—Ä–æ–≤–∞—è –≤–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
  // --- –ù–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ ---
  'Emotional intelligence': '–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç',
  'Self awareness': '–°–∞–º–æ–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å',
  'Conscious processing': '–û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ',
  'Pattern repetition': '–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤',
  'Mutual amplification': '–í–∑–∞–∏–º–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ',
  'Social status': '–°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å',
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
const translateIndicator = (indicator: string): string => {
  // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
  if (indicatorTranslations[indicator]) {
    return indicatorTranslations[indicator];
  }
  
  // –ï—Å–ª–∏ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–µ—Ç, –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
  const lowerIndicator = indicator.toLowerCase();
  
  // –ó–∞–º–µ–Ω—è–µ–º –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ–ª–∞–µ–º –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º
  let translated = indicator.replace(/_/g, ' ');
  
  // –ü—Ä–∏–º–µ–Ω—è–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
  Object.entries(indicatorTranslations).forEach(([eng, rus]) => {
    if (lowerIndicator.includes(eng)) {
      translated = translated.replace(new RegExp(eng, 'gi'), rus);
    }
  });
  
  // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—á–∏—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
  if (translated === indicator.replace(/_/g, ' ')) {
    return translated;
  }
  
  return translated;
};

const categorizeIndicators = (indicators: string[]) => {
  const categories = {
    emotional: { count: 0, details: [] as string[] },
    cognitive: { count: 0, details: [] as string[] },
    relational: { count: 0, details: [] as string[] },
    personal: { count: 0, details: [] as string[] },
    behavioral: { count: 0, details: [] as string[] },
    shadow: { count: 0, details: [] as string[] }
  };

  // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (—Ä—É—Å—Å–∫–∏–µ + –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ + –ø–∞—Ç—Ç–µ—Ä–Ω—ã)
  const emotionalKeywords = [
    // –†—É—Å—Å–∫–∏–µ
    '—ç–º–æ—Ü–∏—è', '—á—É–≤—Å—Ç–≤', '–ª—é–±–æ–≤', '—Å—Ç—Ä–∞—Å—Ç', '—Ä–µ–≤–Ω–æ—Å—Ç', '–≥–Ω–µ–≤', '—Å—Ç—Ä–∞—Ö', '—Ä–∞–¥–æ—Å—Ç', '–≥—Ä—É—Å—Ç—å',
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    'emotional', 'feeling', 'love', 'fear', 'anger', 'joy', 'sad', 'jealous', 'passion',
    'terror', 'drama', 'fusion', 'validation', 'abandonment', 'honesty'
  ];
  
  const cognitiveKeywords = [
    // –†—É—Å—Å–∫–∏–µ
    '–æ—Å–æ–∑–Ω–∞–Ω', '–∞–Ω–∞–ª–∏–∑', '–º—ã—à–ª–µ–Ω', '–ø–æ–Ω–∏–º–∞–Ω–∏', '–∑–Ω–∞–Ω–∏', '—Ä–µ—Ñ–ª–µ–∫—Å–∏', '–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç',
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    'conscious', 'awareness', 'thinking', 'analysis', 'understanding', 'wisdom',
    'reflection', 'mindful', 'authentic_expression', 'growth_motivation', 'wise'
  ];
  
  const relationalKeywords = [
    // –†—É—Å—Å–∫–∏–µ  
    '–æ—Ç–Ω–æ—à–µ–Ω–∏', '–ø–∞—Ä—Ç–Ω–µ—Ä', '–±–ª–∏–∑–æ—Å—Ç', '–∏–Ω—Ç–∏–º–Ω–æ—Å—Ç', '–∫–æ–º–º—É–Ω–∏–∫–∞—Ü', '—Å–≤—è–∑—å', '–ø–∞—Ä–∞',
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    'relationship', 'partner', 'intimacy', 'communication', 'connection', 'couple',
    'mutual', 'collaboration', 'unity', 'sharing', 'partnership', 'together',
    'support', 'transcendent_service', 'creative_collaboration'
  ];
  
  const personalKeywords = [
    // –†—É—Å—Å–∫–∏–µ
    '–ª–∏—á–Ω–æ—Å—Ç', '—Å–∞–º–æ', '–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω', '–≥—Ä–∞–Ω–∏—Ü', '—Ü–µ–Ω–Ω–æ—Å—Ç', '–∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç',
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã  
    'personal', 'self', 'individual', 'boundaries', 'values', 'identity',
    'authentic', 'interests', 'choice', 'expression', 'evolution', 'unconditional'
  ];
  
  const behavioralKeywords = [
    // –†—É—Å—Å–∫–∏–µ
    '–ø–æ–≤–µ–¥–µ–Ω–∏', '–¥–µ–π—Å—Ç–≤–∏', '—Ä–µ–∞–∫—Ü–∏', '–ø—Ä–∏–≤—ã—á–∫', '–ø–∞—Ç—Ç–µ—Ä–Ω', '–º–æ–¥–µ–ª—å',
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    'behavior', 'action', 'reaction', 'pattern', 'habit', 'response',
    'pleasing', 'avoidance', 'control', 'conflict', 'routine', 'protective'
  ];
  
  const shadowKeywords = [
    // –†—É—Å—Å–∫–∏–µ
    '—Ç–µ–Ω—å', '—Å–∫—Ä—ã—Ç', '–ø–æ–¥–∞–≤–ª–µ–Ω', '–¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤', '—Å–æ–∑–∞–≤–∏—Å–∏–º', '—Ç—Ä–∞–≤–º', '–Ω–∞—Ä—É—à–µ–Ω',
    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
    'shadow', 'hidden', 'trauma', 'destructive', 'codependent', 'violation',
    'survival', 'terror', 'abandonment', 'possessive', 'dramatic', 'activation'
  ];

  indicators.forEach(indicator => {
    const lower = indicator.toLowerCase();
    
    let categorized = false;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (—Ç–µ–Ω–µ–≤—ã–µ - —Å–Ω–∞—á–∞–ª–∞, —á—Ç–æ–±—ã –Ω–µ –ø–æ–ø–∞–ª–∏ –≤ –¥—Ä—É–≥–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
    if (shadowKeywords.some(k => lower.includes(k))) {
      categories.shadow.count++;
      categories.shadow.details.push(indicator);
      categorized = true;
    } else if (emotionalKeywords.some(k => lower.includes(k))) {
      categories.emotional.count++;
      categories.emotional.details.push(indicator);
      categorized = true;
    } else if (cognitiveKeywords.some(k => lower.includes(k))) {
      categories.cognitive.count++;
      categories.cognitive.details.push(indicator);
      categorized = true;
    } else if (relationalKeywords.some(k => lower.includes(k))) {
      categories.relational.count++;
      categories.relational.details.push(indicator);
      categorized = true;
    } else if (personalKeywords.some(k => lower.includes(k))) {
      categories.personal.count++;
      categories.personal.details.push(indicator);
      categorized = true;
    } else if (behavioralKeywords.some(k => lower.includes(k))) {
      categories.behavioral.count++;
      categories.behavioral.details.push(indicator);
      categorized = true;
    }
    
    // –ï—Å–ª–∏ –Ω–µ –ø–æ–¥–æ—à–ª–æ –Ω–∏ –∫ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–æ–±–∞–≤–ª—è–µ–º –≤ –ª–∏—á–Ω–æ—Å—Ç–Ω—ã–µ
    if (!categorized) {
      categories.personal.count++;
      categories.personal.details.push(indicator);
    }
  });

  return categories;
};

const analyzeCategory = (key: string, data: { count: number; details: string[] }, totalIndicators: number): CategoryAnalysis => {
  const percentage = totalIndicators > 0 ? Math.round((data.count / totalIndicators) * 100) : 0;
  
  const analyses = {
    emotional: {
      icon: <Heart className="w-4 h-4" />,
      color: 'text-pink-600',
      bgColor: 'bg-pink-50 border-pink-200',
      interpretation: data.count === 0 ? '–í–∞—à–µ —Å–µ—Ä–¥—Ü–µ –≥–æ–≤–æ—Ä–∏—Ç —Ç–∏—Ö–∏–º —è–∑—ã–∫–æ–º ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –≤—ã –∑–∞—â–∏—â–∞–µ—Ç–µ –µ–≥–æ —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é' :
                     data.count === 1 ? '–í –≤–∞—à–µ–π –¥—É—à–µ –∑–≤—É—á–∏—Ç –æ–¥–Ω–∞ —è—Ä–∫–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–æ—Ç–∞ ‚Äî –æ–Ω–∞ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è' :
                     data.count <= 2 ? '–í–∞—à–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∞ ‚Äî —á—É–≤—Å—Ç–≤–∞ –∂–∏–≤—ã, –Ω–æ –Ω–µ –ø–æ–¥–∞–≤–ª—è—é—Ç —Ä–∞–∑—É–º' :
                     '–í–∞—à –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∏—Ä ‚Äî —ç—Ç–æ –æ–∫–µ–∞–Ω —á—É–≤—Å—Ç–≤. –í—ã –∂–∏–≤–µ—Ç–µ —Å–µ—Ä–¥—Ü–µ–º, –∏ —ç—Ç–æ –≤–∞—à–∞ —Å–∏–ª–∞ –∏ –≤—ã–∑–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ',
      recommendations: data.count === 0 ? ['–°–æ–∑–¥–∞–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —á—É–≤—Å—Ç–≤ ‚Äî –¥–Ω–µ–≤–Ω–∏–∫, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫', '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–æ—Ä–∞–∂–∏–≤–∞–Ω–∏—è ‚Äî —Ç–∞–Ω–µ—Ü, –ø–µ–Ω–∏–µ, –æ–±—ä—è—Ç–∏—è'] :
                      data.count >= 3 ? ['–ò–∑—É—á–∏—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏–∏ ‚Äî –¥—ã—Ö–∞–Ω–∏–µ, –º–µ–¥–∏—Ç–∞—Ü–∏—è, –∑–∞–∑–µ–º–ª–µ–Ω–∏–µ', '–ù–∞–π–¥–∏—Ç–µ –∑–¥–æ—Ä–æ–≤—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å–∏–ª—å–Ω—ã—Ö —á—É–≤—Å—Ç–≤ ‚Äî —Å–ø–æ—Ä—Ç, –∏—Å–∫—É—Å—Å—Ç–≤–æ, —Ä–∞–∑–≥–æ–≤–æ—Ä'] :
                      ['–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å ‚Äî —É—á–∏—Ç–µ—Å—å –Ω–∞–∑—ã–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∞ —Ç–æ—á–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏', '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —á–µ—Å—Ç–Ω–æ—Å—Ç—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö'],
      insights: data.count === 0 ? ['–í–∞—à–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–¥–µ—Ä–∂–∞–Ω–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—â–∏—Ç–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –ø–æ—Å–ª–µ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞', '–†–∞–∑—É–º –∏ —á—É–≤—Å—Ç–≤–∞ –≤ –±–∞–ª–∞–Ω—Å–µ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ —á—É–≤—Å—Ç–≤–∞ –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –±–æ–ª—å—à–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ'] :
               data.count >= 3 ? [`${percentage}% –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –æ–∫—Ä–∞—à–µ–Ω–æ —ç–º–æ—Ü–∏—è–º–∏. –í—ã ‚Äî —á–µ–ª–æ–≤–µ–∫ —á—É–≤—Å—Ç–≤–∞, –∏ —ç—Ç–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –º—É–¥—Ä–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è`] :
               [`${percentage}% —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—è–≤–ª–µ–Ω–∏–π ‚Äî –∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ –º–µ–∂–¥—É —Å–µ—Ä–¥—Ü–µ–º –∏ —Ä–∞–∑—É–º–æ–º`]
    },
    cognitive: {
      icon: <Brain className="w-4 h-4" />,
      color: 'text-blue-600',
      bgColor: 'bg-blue-50 border-blue-200',
      interpretation: data.count === 0 ? '–í—ã –∂–∏–≤–µ—Ç–µ –±–æ–ª—å—à–µ —á—É–≤—Å—Ç–≤–∞–º–∏ –∏ –∏–Ω—Ç—É–∏—Ü–∏–µ–π ‚Äî –≤–∞—à–µ —Å–µ—Ä–¥—Ü–µ –º—É–¥—Ä–µ–µ –≤–∞—à–µ–≥–æ —Ä–∞–∑—É–º–∞' :
                     data.count === 1 ? '–í –≤–∞—Å –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç—Å—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å ‚Äî —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã' :
                     data.count <= 2 ? '–£ –≤–∞—Å –∑–¥–æ—Ä–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ–º –∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ–º ‚Äî –≤—ã –¥—É–º–∞–µ—Ç–µ, –Ω–æ –Ω–µ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç–µ –≤ –∞–Ω–∞–ª–∏–∑–µ' :
                     '–í–∞—à —É–º ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å. –í—ã –ª—é–±–∏—Ç–µ –ø–æ–Ω–∏–º–∞—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –¥–æ–∫–∞–ø—ã–≤–∞—Ç—å—Å—è –¥–æ —Å—É—Ç–∏',
      recommendations: data.count === 0 ? ['–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–µ–¥–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π ‚Äî 10 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö', '–ó–∞–¥–∞–≤–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å "–ü–æ—á–µ–º—É —è —Ç–∞–∫ —Ä–µ–∞–≥–∏—Ä—É—é?" –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö'] :
                      data.count >= 3 ? ['–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ "–≤—ã–∫–ª—é—á–µ–Ω–∏–µ" –∞–Ω–∞–ª–∏–∑–∞ ‚Äî –º–µ–¥–∏—Ç–∞—Ü–∏—è, —Ç–∞–Ω–µ—Ü, –∏–≥—Ä–∞, –ª—é–±–æ–≤—å –±–µ–∑ —Å–ª–æ–≤', '–î–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–µ–π –∏–Ω—Ç—É–∏—Ü–∏–∏ –Ω–∞—Ä–∞–≤–Ω–µ —Å –ª–æ–≥–∏–∫–æ–π ‚Äî –ø–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ —á–∞—Å—Ç–æ —Ç–æ—á–Ω–µ–µ –∞–Ω–∞–ª–∏–∑–∞'] :
                      ['–ò–∑—É—á–∞–π—Ç–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—é –æ—Ç–Ω–æ—à–µ–Ω–∏–π ‚Äî –≤–∞–º —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ –ø–æ–ª–µ–∑–Ω–æ', '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –Ω–∞–≤—ã–∫ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ —Å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º ‚Äî –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤ –∏ —Ä–µ–∞–∫—Ü–∏–π'],
      insights: data.count === 0 ? ['–í–∞—à–∞ –º—É–¥—Ä–æ—Å—Ç—å –ø—Ä–∏—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–µ, –∞ –Ω–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Ü–µ–Ω–Ω—ã–π –ø—É—Ç—å –ø–æ–∑–Ω–∞–Ω–∏—è', '–í–æ–∑–º–æ–∂–Ω–æ, –∏–Ω—Ç—É–∏—Ü–∏—è –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –ª–æ–≥–∏–∫–∏ ‚Äî –ø—Ä–∏—Å–ª—É—à–∏–≤–∞–π—Ç–µ—Å—å –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –≥–æ–ª–æ—Å—É'] :
               data.count >= 3 ? [`${percentage}% –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Äî –≤—ã –º—ã—Å–ª–∏—Ç–µ–ª—å –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –ì–ª–∞–≤–Ω–æ–µ –Ω–µ "–ø–µ—Ä–µ—É–º—Å—Ç–≤–æ–≤–∞—Ç—å" –ª—é–±–æ–≤—å`] :
               [`${percentage}% —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π ‚Äî –≤—ã —É–º–µ–µ—Ç–µ –∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å, –∏ –ø–æ–Ω–∏–º–∞—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–µ`]
    },
    relational: {
      icon: <Users className="w-4 h-4" />,
      color: 'text-green-600',
      bgColor: 'bg-green-50 border-green-200',
      interpretation: data.count === 0 ? '–í—ã —Å–µ–π—á–∞—Å –±–æ–ª—å—à–µ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω—ã –Ω–∞ —Å–µ–±–µ ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º—É–¥—Ä—ã–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–æ—Å—Ç–∞' :
                     data.count === 1 ? '–í –≤–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –∑—Ä–µ–µ—Ç –æ–¥–Ω–∞ –≤–∞–∂–Ω–∞—è —Ç–µ–º–∞ ‚Äî –æ–Ω–∞ –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è –∏ –∑–∞–±–æ—Ç—ã' :
                     data.count <= 2 ? '–í—ã —É–º–µ–µ—Ç–µ —Å–æ—á–µ—Ç–∞—Ç—å –±–ª–∏–∑–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –∏ –¥—Ä—É–∂–±—É —Å —Å–æ–±–æ–π ‚Äî –∑–¥–æ—Ä–æ–≤—ã–π –±–∞–ª–∞–Ω—Å' :
                     '–û—Ç–Ω–æ—à–µ–Ω–∏—è ‚Äî –≤–∞—à–∞ —Å—Ç–∏—Ö–∏—è –∏ —à–∫–æ–ª–∞ –∂–∏–∑–Ω–∏. –ß–µ—Ä–µ–∑ –±–ª–∏–∑–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –≤—ã –ø–æ–∑–Ω–∞–µ—Ç–µ —Å–µ–±—è',
      recommendations: data.count === 0 ? ['–ò—Å—Å–ª–µ–¥—É–π—Ç–µ, —á—Ç–æ –º–µ—à–∞–µ—Ç –±–ª–∏–∑–æ—Å—Ç–∏ ‚Äî —Å—Ç—Ä–∞—Ö, —É—Å—Ç–∞–ª–æ—Å—Ç—å –∏–ª–∏ –º—É–¥—Ä–∞—è –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å?', '–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ ‚Äî –æ–¥–∏–Ω –∏—Å–∫—Ä–µ–Ω–Ω–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä –≤ –Ω–µ–¥–µ–ª—é —Å –≤–∞–∂–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º'] :
                      data.count >= 3 ? ['–°–ª–µ–¥–∏—Ç–µ –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º "–¥–∞–≤–∞—Ç—å-–ø–æ–ª—É—á–∞—Ç—å" ‚Äî —Å–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –ª—é–±–æ–≤—å', '–°–æ–∑–¥–∞–π—Ç–µ —Ä–∏—Ç—É–∞–ª—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤–¥–≤–æ–µ–º ‚Äî –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ –¥–µ–ª'] :
                      ['–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –Ω–∞–≤—ã–∫–∏ –∑–¥–æ—Ä–æ–≤–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ ‚Äî "–Ø-—Å–æ–æ–±—â–µ–Ω–∏—è", –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–ª—É—à–∞–Ω–∏–µ', '–£—á–∏—Ç–µ—Å—å –ø—Ä–æ—Å–∏—Ç—å –æ –ø–æ–º–æ—â–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ ‚Äî —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ –∑—Ä–µ–ª–æ—Å—Ç–∏, –∞ –Ω–µ —Å–ª–∞–±–æ—Å—Ç–∏'],
      insights: data.count === 0 ? ['–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –≤ –ø–µ—Ä–∏–æ–¥–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–ª–∏ –ø–æ–∏—Å–∫–∞ —Å–µ–±—è ‚Äî —ç—Ç–æ –≤–∞–∂–Ω—ã–π —ç—Ç–∞–ø –ø–µ—Ä–µ–¥ –Ω–æ–≤–æ–π –±–ª–∏–∑–æ—Å—Ç—å—é', '–ò–Ω–æ–≥–¥–∞ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º'] :
               data.count >= 3 ? [`${percentage}% –≤–∞—à–µ–π —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –í—ã ‚Äî —Å–æ–∑–¥–∞—Ç–µ–ª—å —Å–≤—è–∑–µ–π, –Ω–æ –ø–æ–º–Ω–∏—Ç–µ –æ —Å–µ–±–µ`] :
               [`${percentage}% –æ—Ç–Ω–æ—à–µ–Ω—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Äî –≤—ã —É–º–µ–µ—Ç–µ –±—ã—Ç—å –∏ —Ä—è–¥–æ–º, –∏ –æ—Ç–¥–µ–ª—å–Ω–æ`]
    },
    personal: {
      icon: <User className="w-4 h-4" />,
      color: 'text-purple-600',
      bgColor: 'bg-purple-50 border-purple-200',
      interpretation: data.count === 0 ? '–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç–µ—Å—å –≤ –¥—Ä—É–≥–∏—Ö –ª—é–¥—è—Ö –∏–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—à–ª–∏ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–æ–ª–æ—Å' :
                     data.count === 1 ? '–í –≤–∞—Å –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç—Å—è –≤–∞—à–∞ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –±–µ—Ä–µ–≥–∏—Ç–µ –∏ —Ä–∞–∑–≤–∏–≤–∞–π—Ç–µ –µ–µ' :
                     data.count <= 2 ? '–í—ã –Ω–∞ –ø—É—Ç–∏ –ø–æ–∑–Ω–∞–Ω–∏—è —Å–µ–±—è ‚Äî –∑–Ω–∞–µ—Ç–µ, –∫—Ç–æ –≤—ã, –Ω–æ –µ—â–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –Ω–æ–≤—ã–µ –≥—Ä–∞–Ω–∏' :
                     '–í—ã ‚Äî –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –¥—É—à–∏. –°–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏–µ –∏ –ª–∏—á–Ω–æ—Å—Ç–Ω—ã–π —Ä–æ—Å—Ç ‚Äî –≤–∞—à–∞ —Å—Ç—Ä–∞—Å—Ç—å',
      recommendations: data.count === 0 ? ['–ù–∞—á–Ω–∏—Ç–µ —Å –≤–æ–ø—Ä–æ—Å–∞ "–ß—Ç–æ —è —á—É–≤—Å—Ç–≤—É—é?" –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—ã', '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è –≤ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–µ ‚Äî —É–∑–Ω–∞–π—Ç–µ —Å–≤–æ–∏ –∏—Å—Ç–∏–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è'] :
                      data.count >= 3 ? ['–ü–æ–º–Ω–∏—Ç–µ: –ø–æ–∑–Ω–∞–Ω–∏–µ —Å–µ–±—è –Ω–µ –¥–æ–ª–∂–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ç –±–ª–∏–∑–∫–∏—Ö –ª—é–¥–µ–π', '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ "–∑–¥–æ—Ä–æ–≤—ã–π —ç–≥–æ–∏–∑–º" ‚Äî –∑–∞–±–æ—Ç—É –æ —Å–µ–±–µ –±–µ–∑ –≤–∏–Ω—ã'] :
                      ['–í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ —Å–∞–º–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–π ‚Äî —á—Ç–æ –≤–∞—Å —Ä–∞–¥—É–µ—Ç, —á—Ç–æ –∏—Å—Ç–æ—â–∞–µ—Ç?', '–ò–∑—É—á–∞–π—Ç–µ —Å–≤–æ–∏ —Ä–µ–∞–∫—Ü–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö ‚Äî –æ–Ω–∏ –º–Ω–æ–≥–æ–µ —Ä–∞—Å—Å–∫–∞–∂—É—Ç –æ –≤–∞—Å'],
      insights: data.count === 0 ? ['–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –≤—ã—Ä–æ—Å–ª–∏, —É–≥–æ–∂–¥–∞—è –¥—Ä—É–≥–∏–º, –∏ –∑–∞–±—ã–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç—å ‚Äî –∞ —á–µ–≥–æ —Ö–æ—á—É —è?', '–†–∞–∑–≤–∏—Ç–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏ ‚Äî –≤–∞–∂–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π'] :
               data.count >= 3 ? [`${percentage}% —Ñ–æ–∫—É—Å–∞ –Ω–∞ —Å–µ–±–µ ‚Äî –≤—ã –∑–Ω–∞–µ—Ç–µ —Å–≤–æ—é —Ü–µ–Ω–Ω–æ—Å—Ç—å. –ì–ª–∞–≤–Ω–æ–µ –Ω–µ –∑–∞–º–∫–Ω—É—Ç—å—Å—è –≤ —Å–µ–±–µ`] :
               [`${percentage}% –ª–∏—á–Ω–æ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã ‚Äî –≤—ã —Ä–∞—Å—Ç–µ—Ç–µ –∫–∞–∫ –ª–∏—á–Ω–æ—Å—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è—è —Å–≤—è–∑—å —Å –º–∏—Ä–æ–º`]
    },
    behavioral: {
      icon: <Target className="w-4 h-4" />,
      color: 'text-orange-600',
      bgColor: 'bg-orange-50 border-orange-200',
      interpretation: data.count === 0 ? '–í–∞—à–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–æ–≤–æ–ª—å–Ω–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ ‚Äî –≤—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —Å–≤–æ–∏ —Ä–µ–∞–∫—Ü–∏–∏ –∏–ª–∏ –æ–Ω–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑—Ä–µ–ª—ã–µ' :
                     data.count === 1 ? '–£ –≤–∞—Å –µ—Å—Ç—å –æ–¥–∏–Ω –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–∏—Ç –∏–∑—É—á–∏—Ç—å ‚Äî –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–ª—é—á–æ–º –∫ —Ä–æ—Å—Ç—É' :
                     data.count <= 2 ? '–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–∞—à–∏ —Ä–µ–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ã ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ –æ—Å–æ–∑–Ω–∞–Ω–∏–µ –¥–∞–µ—Ç –±–æ–ª—å—à–µ –≤—ã–±–æ—Ä–æ–≤' :
                     '–ú–Ω–æ–≥–∏–µ –≤–∞—à–∏ —Ä–µ–∞–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç "–Ω–∞ –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ" ‚Äî –ø–æ—Ä–∞ –≤–∑—è—Ç—å —à—Ç—É—Ä–≤–∞–ª –≤ —Å–≤–æ–∏ —Ä—É–∫–∏',
      recommendations: data.count === 0 ? ['–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å ‚Äî –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ —Å–æ–±–æ–π –≤ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö', '–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –≥–∏–±–∫–æ—Å—Ç—å ‚Äî –∏–Ω–æ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Ä–µ–∞–∫—Ü–∏—é'] :
                      data.count >= 3 ? ['–ò–∑—É—á–∏—Ç–µ —Ç–µ—Ö–Ω–∏–∫—É "—Å—Ç–æ–ø-–ø–∞—É–∑—ã" ‚Äî —Å–µ–∫—É–Ω–¥–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–∞–∫—Ü–∏–µ–π –º–æ–∂–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–∏—Ç—å', '–ù–∞–π–¥–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤–∞—à–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π ‚Äî –ª—é–¥–∏, —Å–∏—Ç—É–∞—Ü–∏–∏, —Å–ª–æ–≤–∞'] :
                      ['–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —Å–µ–±—è "–ö–∞–∫ —è —Ö–æ—á—É –æ—Ç–≤–µ—Ç–∏—Ç—å?"', '–ó–∞–º–µ—Ç—å—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã ‚Äî –≤ –∫–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤—ã —Ç–µ—Ä—è–µ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º?'],
      insights: data.count === 0 ? ['–í–∞—à–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é ‚Äî —ç—Ç–æ –¥–∞—Ä. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –ø–æ–º–æ—â–∏ –¥—Ä—É–≥–∏–º', '–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –æ—Ç –ø—Ä–∏—Ä–æ–¥—ã –º—É–¥—Ä—ã –∏–ª–∏ –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞–¥ —Å–æ–±–æ–π'] :
               data.count >= 3 ? [`${percentage}% –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∞–∫—Ü–∏–π ‚Äî —ç—Ç–æ –∫–∞–∫ –∂–∏—Ç—å –≤ –ø–ª–µ–Ω—É –ø—Ä–∏–≤—ã—á–µ–∫. –°–≤–æ–±–æ–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ—Å–æ–∑–Ω–∞–Ω–∏—è`] :
               [`${percentage}% –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ ‚Äî —É –≤–∞—Å –µ—Å—Ç—å –∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–µ, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏`]
    },
    shadow: {
      icon: <Shield className="w-4 h-4" />,
      color: 'text-gray-600',
      bgColor: 'bg-gray-50 border-gray-300',
      interpretation: data.count === 0 ? '–í–∞—à–∞ —Ç–µ–Ω—å —Ö–æ—Ä–æ—à–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞, –∏–ª–∏ –≤—ã –º–∞—Å—Ç–µ—Ä—Å–∫–∏ –µ–µ –ø—Ä—è—á–µ—Ç–µ ‚Äî –∏ —Ç–æ, –∏ –¥—Ä—É–≥–æ–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è' :
                     data.count === 1 ? '–í –≤–∞—Å –µ—Å—Ç—å –æ–¥–Ω–∞ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω–∞—è —Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å–∏—Ç –∏—Å—Ü–µ–ª–µ–Ω–∏—è ‚Äî —ç—Ç–æ –≤–∞—à –ø—É—Ç—å –∫ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏' :
                     data.count <= 2 ? '–£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–Ω–µ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∫–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ –Ω–µ—Å–µ—Ç —Å–≤–æ—é –±–æ–ª—å –∏ –º—É–¥—Ä–æ—Å—Ç—å' :
                     '–í–∞—à–∞ —Ç–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–∞ –∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–∂–Ω–æ–≥–æ, –Ω–æ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è ‚Äî —ç—Ç–æ –ø—É—Ç—å –∫ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—é',
      recommendations: data.count === 0 ? ['–ò—Å—Å–ª–µ–¥—É–π—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ –ª—é–±–∏—Ç–µ –≤ –¥—Ä—É–≥–∏—Ö ‚Äî —á–∞—Å—Ç–æ —ç—Ç–æ –ø—Ä–æ–µ–∫—Ü–∏—è –≤–∞—à–µ–π —Ç–µ–Ω–∏', '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞—Ä—Ç-—Ç–µ—Ä–∞–ø–∏—é –∏–ª–∏ –ø–∏—Å—å–º–æ ‚Äî —Ç–µ–Ω—å —á–∞—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª—ã'] :
                      data.count >= 3 ? ['–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ç—Ä–∞–≤–º–∞-—Ç–µ—Ä–∞–ø–µ–≤—Ç—É ‚Äî —Ç–µ–Ω—å —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏', '–ò–∑—É—á–∏—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ —Å–∞–º–æ—Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏—è ‚Äî —Ç–µ–Ω—å –∏—Å—Ü–µ–ª—è–µ—Ç—Å—è –ª—é–±–æ–≤—å—é, –∞ –Ω–µ –±–æ—Ä—å–±–æ–π'] :
                      ['–í–µ–¥–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å–æ —Å–≤–æ–∏–º–∏ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ ‚Äî —á—Ç–æ –æ–Ω–∏ —Ö–æ—Ç—è—Ç —Å–∫–∞–∑–∞—Ç—å?', '–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ –ø—Ä–∏–Ω—è—Ç–∏–µ ‚Äî —Ç–µ–Ω—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–ª–æ–π, –∫–æ–≥–¥–∞ –µ–µ –Ω–µ –æ—Ç–≤–µ—Ä–≥–∞—é—Ç'],
      insights: data.count === 0 ? ['–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –ª–∏–±–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã, –ª–∏–±–æ –∏–∑–±–µ–≥–∞–µ—Ç–µ –≤—Å—Ç—Ä–µ—á–∏ —Å –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏', '–ò–Ω–æ–≥–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ–Ω–∏ –≤ —Ç–µ—Å—Ç–µ –æ–∑–Ω–∞—á–∞–µ—Ç —Ö–æ—Ä–æ—à—É—é –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –∑–∞—â–∏—Ç—É'] :
               data.count >= 3 ? [`${percentage}% —Ç–µ–Ω–µ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ ‚Äî –≤–∞—à–∞ –±–æ–ª—å –≤–µ–ª–∏–∫–∞, –Ω–æ –≤ –Ω–µ–π —Å–∫—Ä—ã—Ç–∞ –∏ –≤–∞—à–∞ —Å–∏–ª–∞. –ù–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —ç—Ç–æ—Ç –ø—É—Ç—å –≤ –æ–¥–∏–Ω–æ—á–∫—É`] :
               [`${percentage}% —Ç–µ–Ω–µ–≤—ã—Ö –ø—Ä–æ—è–≤–ª–µ–Ω–∏–π ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∞—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è —Å–≤–µ—Ç–∞ –∏ —Ç–µ–Ω–∏`]
    }
  } as const;

  return analyses[key as keyof typeof analyses];
};

const getZoneInfo = (zone: string) => {
  const zones = {
    destructive: { title: '–ó–æ–Ω–∞ –∏—Å—Ü–µ–ª–µ–Ω–∏—è ‚Äî –≤—Ä–µ–º—è –∑–∞–ª–µ—á–∏–≤–∞—Ç—å —Ä–∞–Ω—ã', color: 'text-red-600', icon: 'üö®' },
    emotional: { title: '–ó–æ–Ω–∞ —Å–µ—Ä–¥—Ü–∞ ‚Äî –≤—Ä–µ–º—è —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –≥–ª—É–±–æ–∫–æ', color: 'text-yellow-600', icon: 'üíù' },
    mature: { title: '–ó–æ–Ω–∞ –º—É–¥—Ä–æ—Å—Ç–∏ ‚Äî –≤—Ä–µ–º—è —Å—Ç—Ä–æ–∏—Ç—å –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ', color: 'text-green-600', icon: 'üåü' },
    transcendent: { title: '–ó–æ–Ω–∞ —Å–≤–µ—Ç–∞ ‚Äî –≤—Ä–µ–º—è —Å–ª—É–∂–∏—Ç—å –º–∏—Ä—É', color: 'text-purple-600', icon: '‚ú®' }
  };
  return zones[zone as keyof typeof zones] || zones.emotional;
};

export const EnhancedIndicatorsSummary: React.FC<EnhancedIndicatorsSummaryProps> = ({
  indicators,
  personalMaturity,
  relationshipMaturity,
  detectedZone
}) => {
  const categories = categorizeIndicators(indicators);
  const zoneInfo = getZoneInfo(detectedZone);
  const totalIndicators = indicators.length;
  const balance = Math.abs(personalMaturity - relationshipMaturity);

  const categoryKeys = ['emotional', 'cognitive', 'relational', 'personal', 'behavioral', 'shadow'] as const;

  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      className="bg-white rounded-xl border border-gray-200 p-6"
    >
      <div className="flex items-center justify-between mb-6">
        <div className="flex items-center gap-3">
          <BarChart3 className="w-6 h-6 text-blue-500" />
          <h3 className="text-lg font-semibold text-gray-900">
            –ê–Ω–∞–ª–∏–∑ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
          </h3>
        </div>
        <Tooltip
          content="–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ 6 —Å—Ñ–µ—Ä–∞–º: —ç–º–æ—Ü–∏–∏, –º—ã—à–ª–µ–Ω–∏–µ, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –ª–∏—á–Ω–æ—Å—Ç—å, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —Ç–µ–Ω—å. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º –Ω–∞ —Ä—É—Å—Å–∫–∏–π –∏ –¥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏."
          title="–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å"
          trigger="click"
          position="left"
          maxWidth="max-w-sm"
        />
      </div>

      {/* –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
        <div className="text-center p-3 bg-blue-50 rounded-lg">
          <div className="text-2xl font-bold text-blue-600">{personalMaturity.toFixed(1)}</div>
          <div className="text-xs text-blue-700">–õ–∏—á–Ω–∞—è –∑—Ä–µ–ª–æ—Å—Ç—å</div>
        </div>
        
        <div className="text-center p-3 bg-green-50 rounded-lg">
          <div className="text-2xl font-bold text-green-600">{relationshipMaturity.toFixed(1)}</div>
          <div className="text-xs text-green-700">–û—Ç–Ω–æ—à–µ–Ω—á–µ—Å–∫–∞—è –∑—Ä–µ–ª–æ—Å—Ç—å</div>
        </div>
        
        <div className="text-center p-3 bg-purple-50 rounded-lg">
          <div className="text-2xl font-bold text-purple-600">{balance.toFixed(1)}</div>
          <div className="text-xs text-purple-700">–†–∞–∑—Ä—ã–≤ –∑—Ä–µ–ª–æ—Å—Ç–∏</div>
        </div>
        
        <div className="text-center p-3 bg-gray-50 rounded-lg">
          <div className="text-2xl font-bold text-gray-600">{totalIndicators}</div>
          <div className="text-xs text-gray-700">–í—ã—è–≤–ª–µ–Ω–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤</div>
        </div>
      </div>

      {/* –¢–µ–∫—É—â–∞—è –∑–æ–Ω–∞ */}
      <div className="mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-gray-200">
        <div className="flex items-center gap-3 mb-2">
          <span className="text-2xl">{zoneInfo.icon}</span>
          <h4 className={`font-medium ${zoneInfo.color}`}>{zoneInfo.title}</h4>
        </div>
        <p className="text-sm text-gray-600">
          {detectedZone === 'destructive' ? 
            '–°–µ–π—á–∞—Å –≤–∞—à –ø—É—Ç—å ‚Äî –Ω–µ–∂–Ω–æ–µ –∏—Å—Ü–µ–ª–µ–Ω–∏–µ —Ä–∞–Ω –ø—Ä–æ—à–ª–æ–≥–æ. –ö–∞–∂–¥—ã–π —à–∞–≥ –∫ –∑–∞–±–æ—Ç–µ –æ —Å–µ–±–µ ‚Äî —ç—Ç–æ —à–∞–≥ –∫ –ª—é–±–≤–∏.' :
          detectedZone === 'emotional' ?
            '–í—ã –∂–∏–≤–µ—Ç–µ –≤ –º–∏—Ä–µ —á—É–≤—Å—Ç–≤ –∏ —Å—Ç—Ä–∞—Å—Ç–µ–π. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è —É–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–æ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π.' :
          detectedZone === 'mature' ?
            '–í—ã —Å—Ç—Ä–æ–∏—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º—É–¥—Ä–æ—Å—Ç–∏ –∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏. –≠—Ç–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å—á–∞—Å—Ç—å–µ.' :
            '–í–∞—à–∞ –ª—é–±–æ–≤—å —Ç—Ä–∞–Ω—Å—Ü–µ–Ω–¥–µ–Ω—Ç–Ω–∞ ‚Äî –æ–Ω–∞ —Å–ª—É–∂–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –≤–∞–º, –Ω–æ –∏ –º–∏—Ä—É. –≠—Ç–æ –≤–µ–ª–∏–∫–∏–π –¥–∞—Ä –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.'}
        </p>
      </div>

      {/* –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ñ–µ—Ä–∞–º - –∫—Ä–∞—Å–∏–≤—ã–π –±–ª–æ–∫ —Å —Ü–∏—Ñ—Ä–∞–º–∏ */}
      <div className="grid grid-cols-3 md:grid-cols-6 gap-3 mb-6">
        {categoryKeys.map((key) => {
          const categoryData = categories[key];
          const analysis = analyzeCategory(key, categoryData, totalIndicators);
          
          return (
            <div key={key} className="text-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
              <div className={`flex justify-center mb-2 ${analysis.color}`}>
                {analysis.icon}
              </div>
              <div className={`text-lg font-bold ${analysis.color}`}>
                {categoryData.count}
              </div>
              <div className="text-xs text-gray-600 capitalize">
                {key === 'emotional' ? '–≠–º–æ—Ü–∏–∏' : 
                 key === 'cognitive' ? '–ú—ã—à–ª–µ–Ω–∏–µ' :
                 key === 'relational' ? '–û—Ç–Ω–æ—à–µ–Ω–∏—è' :
                 key === 'personal' ? '–õ–∏—á–Ω–æ—Å—Ç—å' :
                 key === 'behavioral' ? '–ü–æ–≤–µ–¥–µ–Ω–∏–µ' : '–¢–µ–Ω—å'}
              </div>
            </div>
          );
        })}
      </div>

      {/* –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ —Å—Ñ–µ—Ä–∞–º */}
      <div className="space-y-4">
        <h4 className="font-semibold text-gray-800 mb-3">üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ —Å—Ñ–µ—Ä–∞–º</h4>
        
        {categoryKeys.map((key) => {
          const categoryData = categories[key];
          const analysis = analyzeCategory(key, categoryData, totalIndicators);
          
          if (categoryData.count === 0) return null; // –°–∫—Ä—ã–≤–∞–µ–º –ø—É—Å—Ç—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
          
          return (
            <div key={key} className={`p-4 rounded-lg border ${analysis.bgColor}`}>
              <div className="flex items-center gap-3 mb-3">
                <div className={analysis.color}>
                  {analysis.icon}
                </div>
                <div className="flex-1">
                  <div className="flex items-center gap-2">
                    <h5 className={`font-medium ${analysis.color}`}>
                      {key === 'emotional' ? '–≠–º–æ—Ü–∏–∏' : 
                       key === 'cognitive' ? '–ú—ã—à–ª–µ–Ω–∏–µ' :
                       key === 'relational' ? '–û—Ç–Ω–æ—à–µ–Ω–∏—è' :
                       key === 'personal' ? '–õ–∏—á–Ω–æ—Å—Ç—å' :
                       key === 'behavioral' ? '–ü–æ–≤–µ–¥–µ–Ω–∏–µ' : '–¢–µ–Ω—å'}
                    </h5>
                    <span className={`text-xl font-bold ${analysis.color}`}>
                      {categoryData.count}
                    </span>
                  </div>
                  <p className="text-sm text-gray-600 mt-1">{analysis.interpretation}</p>
                </div>
              </div>
              
              {/* –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã */}
              {categoryData.details.length > 0 && (
                <div className="mb-3 p-3 bg-white/70 rounded-lg">
                  <div className="text-xs font-medium text-gray-700 mb-2">üìã –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:</div>
                  <div className="flex flex-wrap gap-1">
                    {categoryData.details.map((indicator, idx) => {
                      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, '–õ–∏—á–Ω–æ—Å—Ç—å:'), –Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏–º —Å–∞–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
                      const match = indicator.match(/^(–õ–∏—á–Ω–æ—Å—Ç—å:|–û—Ç–Ω–æ—à–µ–Ω–∏—è:)?\s*(.*)$/);
                      const prefix = match && match[1] ? match[1] + ' ' : '';
                      const core = match && match[2] ? match[2] : indicator;
                      return (
                        <span key={idx} className="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full border">
                          {prefix}{translateIndicator(core)}
                        </span>
                      );
                    })}
                  </div>
                </div>
              )}
              
              {/* –ò–Ω—Å–∞–π—Ç—ã */}
              <div className="mb-3">
                <div className="text-xs font-medium text-gray-700 mb-1">üí° –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:</div>
                {analysis.insights.map((insight, idx) => (
                  <div key={idx} className="text-sm text-gray-600 flex items-start gap-2">
                    <CheckCircle className="w-3 h-3 text-green-500 mt-0.5 flex-shrink-0" />
                    <span>{insight}</span>
                  </div>
                ))}
              </div>
              
              {/* –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ */}
              <div>
                <div className="text-xs font-medium text-gray-700 mb-1">üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</div>
                {analysis.recommendations.map((rec, idx) => (
                  <div key={idx} className="text-sm text-gray-600 flex items-start gap-2">
                    <TrendingUp className="w-3 h-3 text-blue-500 mt-0.5 flex-shrink-0" />
                    <span>{rec}</span>
                  </div>
                ))}
              </div>
            </div>
          );
        })}
        
        {/* –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—É—Å—Ç—ã–µ */}
        {categoryKeys.every(key => categories[key].count === 0) && (
          <div className="text-center p-6 bg-gray-50 rounded-lg">
            <AlertTriangle className="w-8 h-8 text-yellow-500 mx-auto mb-2" />
            <p className="text-gray-600">
              –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏–ª–∏ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
            </p>
          </div>
        )}
      </div>

      {/* –û–±—â–∏–µ –≤—ã–≤–æ–¥—ã */}
      <div className="mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200">
        <h4 className="font-medium text-yellow-800 mb-2">
          üìä –û–±—â–∏–µ –≤—ã–≤–æ–¥—ã –ø–æ –ø—Ä–æ—Ñ–∏–ª—é
        </h4>
        <div className="space-y-1 text-sm text-yellow-700">
          {balance < 1 && (
            <p>‚Ä¢ –í–∞—à–∞ –ª–∏—á–Ω–∞—è –∏ –æ—Ç–Ω–æ—à–µ–Ω—á–µ—Å–∫–∞—è –∑—Ä–µ–ª–æ—Å—Ç—å —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ</p>
          )}
          {balance >= 2 && (
            <p>‚Ä¢ –ó–∞–º–µ—Ç–µ–Ω –¥–∏—Å–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ª–∏—á–Ω–æ–π –∏ –æ—Ç–Ω–æ—à–µ–Ω—á–µ—Å–∫–æ–π –∑—Ä–µ–ª–æ—Å—Ç—å—é - —Ñ–æ–∫—É—Å –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–∏ –æ—Ç—Å—Ç–∞—é—â–µ–π —Å—Ñ–µ—Ä—ã</p>
          )}
          {categories.shadow.count > 2 && (
            <p>‚Ä¢ –í—ã—è–≤–ª–µ–Ω–æ {categories.shadow.count} —Ç–µ–Ω–µ–≤—ã—Ö –∞—Å–ø–µ–∫—Ç–∞ - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º</p>
          )}
          {categories.emotional.count > categories.cognitive.count && categories.emotional.count > 2 && (
            <p>‚Ä¢ –ü—Ä–µ–æ–±–ª–∞–¥–∞—é—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã - —Å—Ç–æ–∏—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏</p>
          )}
          {categories.cognitive.count > categories.emotional.count && categories.cognitive.count > 2 && (
            <p>‚Ä¢ –ü—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ - —Å—Ç–æ–∏—Ç –±–æ–ª—å—à–µ –¥–æ–≤–µ—Ä—è—Ç—å –∏–Ω—Ç—É–∏—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞–º</p>
          )}
          <p>‚Ä¢ –í—Å–µ–≥–æ –≤—ã—è–≤–ª–µ–Ω–æ {totalIndicators} –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã</p>
        </div>
      </div>
    </motion.div>
  );
};

export default EnhancedIndicatorsSummary; 